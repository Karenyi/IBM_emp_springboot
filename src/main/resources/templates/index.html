<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>IBM Emp</title>
</head>
<body sec:authorize="hasRole('USER')">
    <div>
        <h2>IBM Emp: Spring</h2>
    </div>
    <div>
        <h3>員工資料查詢</h3>
        <ul>
            <li>
                <a th:href='@{/emp/listAll}'>List</a> all Emps. 
            </li>
            <br>

            <li>
                <form method="POST" th:action="@{/emp/listOne}" >
                
                    <b>輸入員工編號 (如7001):</b>
                    <input type="text" name="empno">
                    <input type="submit" value="送出">
                </form>
            </li>

            <li>
                <form method="POST" th:action="@{/emp/listOne}" >
                    <b>選擇員工編號:</b>
                    <select size="1" name="empno">
                            <option th:each="empVO:${empVOs}" th:value="${empVO.empno}">[[${empVO.empno}]]</option>
                    </select>
                    <input type="submit" value="送出">
                </form>
            </li>

            <li>
                <form method="POST" th:action="@{/emp/listOne}" >
                    <b>選擇員工姓名:</b>
                    <select size="1" name="empno">
                            <option th:each="empVO:${empVOs}" th:value="${empVO.empno}">[[${empVO.ename}]]</option>
                    </select>
                    <input type="submit" value="送出">
                </form>
            </li>

            <li>
                <form method="POST" th:action="@{/dept/listEmps_ByDeptno}" sec:authorize="hasRole('ADMIN')">
                    <b><font color=blue>選擇部門:</font></b>
                    <select size="1" name="deptno" >
                    
                            <option th:value="${deptVO.deptno}" th:each="deptVO:${deptVOs}">[[${deptVO.dname}]]
                    </select>
                    <input type="submit" value="送出">
                </form>
            </li>
        </ul>
    </div>
    <div>
        <h3>員工管理</h3>
        <ul>
            <li><a th:href='@{/emp/add}'>Add</a> a new Emp.</li>
        </ul>
    </div>
    <div sec:authorize="hasRole('ADMIN')">
        <h3><font color=blue>部門管理</font></h3>
        <ul>
            <li><a th:href='@{/dept/listAll}'>List</a> all Depts. </li>
        </ul>
    </div>
</body>
</html>
